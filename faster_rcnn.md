## faster RCNN:包含RPN（区域推荐网络）的趋向于实时的物体检测器

 							作者：Shaoqing Ren, Kaiming He, Ross Girshick（fast rcnn anthor), and Jian Sun



## 概要

最新的物体检测器依赖于区域推荐算法去假设物体的位置，它优于SPPnet和Fast RCNN的地方在两个方面：1.减少了测试阶段网络的运行时间；2. --把区域推荐计算暴露成一个瓶颈-- 

在这个工程中， 我们一个RPN网络来和检测网络一同共享了整个图片的卷积特征。因此能得到近乎无成本的区域推荐能力。一个RPN是一个全卷积网络，它同时预测物体边框和在每个位置的边框得分。RPN被训练成端到端的网络以便去生成一些高质量的推荐区域,  被用于fast RCNN去检测物体。通过共享卷积特征我们进一步的把fast RCNN和RPN融合进一个网络----用最近流行的神经网络术“注意力”机制，RPN元素告诉整合的神经网络去哪里寻找。对于很深的VGG模型，在GPU上，我们的检测器可以达到帧速率为5fps的速度并且可以实现最好的检测效果在PASCAL VOC 2007, 2012 和 MS COCO数据集



## 介绍

​	最近在物体检测方面的进步是由于区域推荐方法的成功来推动的（比如说基于区域的卷积神经网络R-CNNs）。即是最初的RCNN计算成本是非常昂贵的，但由于共享卷积交叉推荐技术的出现使其成本大大降低。最新的体现就是：当忽略区域推荐的耗时时，fast RCNN通过很深的神经网络，实现了近乎实时的物体检测能力。现在区域的产生成为了实时监测的测试计算瓶颈。

​	传统的区域检测方法依赖于底层的特征和经济的推断方案。选择性搜索，这是最流行的一种方法，它基于低水平的特征工程，以贪婪模式的一步步融合了超像素（小尺度的区域）。但当对比与后面有效的物体检测网络，选择性搜索方法太慢了，在GPU上每张图片需要2秒钟。边框方法需要0.2秒，但还是很慢。

​	值得提出的一点，传统的区域检测方法在搜素是用的是CPU，但fast RCNN利用了GPU，让这个耗时时间比较变得不平等，这可能是一个工程方法去解决耗时问题，但是反复的应用GPU会忽视这个下游的物体检测网络，因此失去了很多共享计算的机会

​	在这片论文中，我们展示了一个算法上的改变----用深度神经网路来计算推荐区域----这会产生一个精妙且有趣的方法，在检测网络的计算的基础上，这个区域计算可以近乎是无成本的。最后我们引进新颖的RPN，它和最新的物体检测网络共享了卷积层。通过在测试时共享卷积层，计算区域所需耗时非常小，可以达到每张图片10ms。

​	鉴于我们的观测，这个卷积特征网络映射（被用于基于区域的检测器，像Fast RCNN） 也可以被用于产生推荐区域。在这些卷积特征层的最上层，我们通过加一点额外的卷积层来构造一个RPN，在特征区域的网格上的每一个位置（像素点），同时产生一些边框回归和对象分数。这个RPN因此是一个全联接层网络（FCL），它可以被训练成一端到端的检测推荐区域产生器。

​	通过一系列的纵横比（aspect ratios）和尺度（scales），RPN可以有效的预测出大量的候选推荐区域。

![image-20181116192434070](https://raw.githubusercontent.com/lxy5513/Markdown_image_dateset/master/image-20181116192434070.png)



图片一：对于解决多尺度和大小的不同策略。（a)金字塔式的图片和特征映射被建立，这个分类器会运行所有的尺度。(b) 运行在特征映射上的多尺度的金字塔式的过滤器。（c) 我们使用的是在回归方程上使用涉及边框的金字塔

​	图片金字塔结构（a)、金字塔过滤器结构(b)、我们引进一个新的词汇'锚点'方框作为多尺度和纵横比的参考。我们的策略可以被认为是涉及回归的金字塔结构，它避免了列举多尺度、纵横比的图片或者过滤器。在用单尺度的图像进行训练和测试时，模型会运行的很好，这样也有利于运行速度。

​	为了去整合RPNs和Fast RCNN 物体检测网络，我们推荐一种训练策略，它交替的（fine-tuning）调整区域推荐任务和物体检测任务，--同时保持了推荐区域的固定--。这种策略可以快速收敛并且通过在两个任务之间共享卷积特征，产生一个整合、一体化的网络结构。

​	我们在PASCAL VOC 基准上综合的评价我们的方法，带有RPN的fast RCNN比基于搜索性选择的fast RCNN准确率更高， 同时我们的方法在测试阶段免除了近乎所有的搜索性选择带来的计算负担。用于区域推荐所需时间只要10毫秒。用于很深的网络模型，我们在GPU上仍然可以达到帧速率为5fps的速度，因此这是一个集速度与精度于一体的实用的物体检测系统。

​	这个RPN和faster RCNN框架已经被用于各种其他的方法，比如：3D物体检测、基于部分的物体检测、实例分割和图片文字描述。我们这种快速且有效的方法也被用于商业系统例如Pinterests。

​	在ILSVRC和COCO 2015竞赛中，faster rcnn 和 RPN是 几个图片比赛第一名的基础配置。RPN可以从图片数据中完全的学习到推荐区域，可以很容易且很好的利用很深、很抽象的表示特征。从以上可以看出RPN和Faster RCNN不仅是节约计算成本，也是可以提高计算准确率的。





















































-- * * * * *--  表示翻译不确定的地方